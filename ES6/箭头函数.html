<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>箭头函数</title>
</head>
<body>
<script>
    // ES6 允许使用"箭头" => 定义函数
    // 声明一个函数
    // ES5
    let fn1 = function () {

    };
    // ES6
    let fn2 = (a, b) => {
        return a + b;
    };
    // 调用函数
    let result = fn2(1, 2);
    // console.log(result);
    // 箭头函数的特点
    // 1. this 是静态的, this 始终指向函数声明时所在作用域下的 this 的值
    function getName() {
        console.log(this.name)
    }

    let getName2 = () => { // 函数在声明作用域(这里是全局)下的 this 值是 window, 静态的 this, 之后怎样都改变不了
        console.log(this.name);
    }
    // 设置 window 对象的 name 属性
    window.name = '尚硅谷';
    const school = {
        name: 'ATGUIGU'
    };
    // 直接调用
    // getName();
    // getName2();

    // call调用, call可以改变函数内部 this 值
    // getName.call(school); // AIGUIGU
    // getName2.call(school); // 尚硅谷 依然是全局对象

    // 2. 不能作为构造函数实例化对象
    // let Person = (name, age) => {
    //     this.name = name;
    //     this.age = age;
    // };
    // let me = new Person('xiao', 30); // 错误,  Person is not a constructor
    // console.log(me);

    // 3. 不能使用 arguments 变量
    // let fn = () => {
    //     console.log(arguments); // 报错
    // }
    // fn(1, 2, 3);

    // 4. 箭头函数的简写
    // 4.1 省略小括号
    let add = n => { // (n) => {
        return n + n;
    };
    console.log(add(9));
    // 4.2 省略花括号, 当代码体只有一条语句的时候, 而且必须省略 return
    // 语句的执行结果就是函数的返回值
    // let pow = (n) => {
    //     return n*n;
    // };
    // console.log(pow(9));
    let pow = n => n*n;
    console.log(pow(9));
</script>
</body>
</html>